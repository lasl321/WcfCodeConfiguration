<?xml version="1.0"?>
<configuration>
    <appSettings>
        <add key="aspnet:UseTaskFriendlySynchronizationContext"
             value="true" />
    </appSettings>

    <system.web>
        <compilation debug="true"
                     targetFramework="4.5.1" />
        <httpRuntime targetFramework="4.5.1" />
    </system.web>

    <system.serviceModel>
        <services>
            <service name="WcfCodeConfiguration.EchoService">
                <endpoint binding="netTcpBinding"
                          contract="WcfCodeConfiguration.IEchoService" />
                <endpoint address="MEX"
                          binding="mexTcpBinding"
                          contract="IMetadataExchange" />
            </service>
        </services>

        <behaviors>
            <serviceBehaviors>
                <behavior>
                    <serviceMetadata httpGetEnabled="false" />
                    <serviceDebug includeExceptionDetailInFaults="false" />
                </behavior>
            </serviceBehaviors>
        </behaviors>

        <serviceHostingEnvironment aspNetCompatibilityEnabled="true"
                                   multipleSiteBindingsEnabled="true">
            <serviceActivations>
                <add relativeAddress="EchoService.svc"
                     service="WcfCodeConfiguration.EchoService" />
            </serviceActivations>
        </serviceHostingEnvironment>

    </system.serviceModel>

    <system.webServer>
        <modules runAllManagedModulesForAllRequests="true" />
        <directoryBrowse enabled="true" />
    </system.webServer>
</configuration>